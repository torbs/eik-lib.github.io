(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{107:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return p})),t.d(n,"default",(function(){return o}));var a=t(3),s=t(7),i=(t(0),t(123)),r={id:"client_app_packages",title:"Application Packages",sidebar_label:"Application Packages"},c={unversionedId:"client_app_packages",id:"client_app_packages",isDocsHomePage:!1,title:"Application Packages",description:"Publishing and serving your application's client side assets is the main task Eik was designed for. Given local paths to client side bundle files you produce, Eik will package up the files and upload them to an Eik server where they will be served for use in your production applications.",source:"@site/docs/client_app_packages.md",slug:"/client_app_packages",permalink:"/docs/client_app_packages",version:"current",sidebar_label:"Application Packages",sidebar:"mainSidebar",previous:{title:"Client Login",permalink:"/docs/client_login"},next:{title:"ESM Friendly NPM Packages",permalink:"/docs/client_npm_packages"}},p=[{value:"Producing packages",id:"producing-packages",children:[{value:"eik.json definitions",id:"eikjson-definitions",children:[]},{value:"The publish command",id:"the-publish-command",children:[]}]}],l={toc:p};function o(e){var n=e.components,t=Object(s.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Publishing and serving your application's client side assets is the main task Eik was designed for. Given local paths to client side bundle files you produce, Eik will package up the files and upload them to an Eik server where they will be served for use in your production applications."),Object(i.b)("h2",{id:"producing-packages"},"Producing packages"),Object(i.b)("p",null,"Use the ",Object(i.b)("inlineCode",{parentName:"p"},"package")," command to package and upload local JavaScript and CSS bundle files to an Eik server from where they will be served."),Object(i.b)("h3",{id:"eikjson-definitions"},"eik.json definitions"),Object(i.b)("p",null,"In your app's Eik config you use the ",Object(i.b)("inlineCode",{parentName:"p"},"files")," key to define local file paths to be included when packaging."),Object(i.b)("h4",{id:"eikjson-file-entrypoints"},"eik.json file entrypoints"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n    "files": {\n        "./scripts.js": "./scripts.js",\n        "./scripts.js.map": "./scripts.js.map",\n        "./styles.css": "./styles.css",\n        "./styles.css.map": "./styles.css.map",\n    }\n}\n')),Object(i.b)("h4",{id:"packagejson-file-entrypoints"},"package.json file entrypoints"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n    "eik": {\n        "files": {\n            "./scripts.js": "./scripts.js",\n            "./scripts.js.map": "./scripts.js.map",\n            "./styles.css": "./styles.css",\n            "./styles.css.map": "./styles.css.map",\n        }\n    }\n}\n')),Object(i.b)("h3",{id:"the-publish-command"},"The publish command"),Object(i.b)("p",null,"With entrypoints defined in the Eik config, running the ",Object(i.b)("inlineCode",{parentName:"p"},"eik package")," command will assemble files (specified by entrypoints) into an archive and upload the archive to the Eik server defined by the ",Object(i.b)("inlineCode",{parentName:"p"},"server")," field."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-sh"},"eik package\n")),Object(i.b)("p",null,"Once uploaded, the archive will be unpacked and the files served at the appropriate paths."),Object(i.b)("p",null,"The following example shows how entrypoint definitions correspond to final file locations:"),Object(i.b)("h4",{id:"example"},"Example."),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Either in eik.json define...")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n    "server": "http://assets.myserver.com",\n    "name": "my-pack",\n    "version": "1.0.0",\n    "files": {\n        "index.js": "./scripts.js",\n        "index.js.map": "./scripts.js.map",\n        "ie11.js": "./scripts-fallback.js",\n        "ie11.js.map": "./scripts-fallback.js.map",\n        "index.css": "./styles.css",\n        "index.css.map": "./styles.css.map"\n    }\n}\n')),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"or in package.json define...")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n    "eik": {\n        "name": "my-pack",\n        "version": "1.0.0",\n        "server": "http://assets.myserver.com",\n        "files": {\n            "index.js": "./scripts.js",\n            "index.js.map": "./scripts.js.map",\n            "ie11.js": "./scripts-fallback.js",\n            "ie11.js.map": "./scripts-fallback.js.map",\n            "index.css": "./styles.css",\n            "index.css.map": "./styles.css.map"\n        }\n    }\n}\n')),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"then run the command...")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-sh"},"eik package\n")),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"URLs after packaging will be...")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"http://assets.myserver.com/pkg/my-pack/1.0.0/index.js")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"http://assets.myserver.com/pkg/my-pack/1.0.0/index.js.map")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"http://assets.myserver.com/pkg/my-pack/1.0.0/ie11.js")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"http://assets.myserver.com/pkg/my-pack/1.0.0/ie11.js.map")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"http://assets.myserver.com/pkg/my-pack/1.0.0/index.css")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"http://assets.myserver.com/pkg/my-pack/1.0.0/index.css.map"))))}o.isMDXComponent=!0},123:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return u}));var a=t(0),s=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,s=function(e,n){if(null==e)return{};var t,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var l=s.a.createContext({}),o=function(e){var n=s.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},b=function(e){var n=o(e.components);return s.a.createElement(l.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return s.a.createElement(s.a.Fragment,{},n)}},d=s.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,r=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),b=o(t),d=a,u=b["".concat(r,".").concat(d)]||b[d]||m[d]||i;return t?s.a.createElement(u,c(c({ref:n},l),{},{components:t})):s.a.createElement(u,c({ref:n},l))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,r=new Array(i);r[0]=d;var c={};for(var p in n)hasOwnProperty.call(n,p)&&(c[p]=n[p]);c.originalType=e,c.mdxType="string"==typeof e?e:a,r[1]=c;for(var l=2;l<i;l++)r[l]=t[l];return s.a.createElement.apply(null,r)}return s.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);